<!DOCTYPE html>
<html lang="en">
<head> 
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SaveUp - Smart Finance Tracker for Bangladesh</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    
    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .login-container {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AI2aSyCRJPBPmUU9lxcTv_xKhaOebPhcVJ1Htgy",
            authDomain: "saveup-baa19.firebaseapp.com",
            projectId: "saveup-baa19",
            storageBucket: "saveup-baa19.firebasestorage.app",
            messagingSenderId: "185527062347",
            appId: "1:185527062347:web:b3590315906f2c8f8fe3206"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();

        // Money Personality Quiz Data
        const quizQuestions = [
            {
                id: 1,
                question: "‡¶ï‡ßá‡¶â ‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá ‡ß´‡ß¶,‡ß¶‡ß¶‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶¶‡¶ø‡¶≤‡ßá ‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡ßÄ ‡¶ï‡¶∞‡¶¨‡ßá‡¶®?",
                options: [
                    { text: "‡¶∏‡¶û‡ßç‡¶ö‡¶Ø‡¶º ‡¶ï‡¶∞‡¶¨ ‡¶≠‡¶¨‡¶ø‡¶∑‡ßç‡¶Ø‡¶§‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø", personality: "lion" },
                    { text: "‡¶¨‡¶ø‡¶®‡¶ø‡¶Ø‡¶º‡ßã‡¶ó ‡¶ï‡¶∞‡¶¨ ‡¶≤‡¶æ‡¶≠‡ßá‡¶∞ ‡¶Ü‡¶∂‡¶æ‡¶Ø‡¶º", personality: "fox" },
                    { text: "‡¶®‡¶ø‡¶ú‡ßá‡¶∞ ‡¶∏‡ßç‡¶¨‡¶™‡ßç‡¶® ‡¶™‡ßÇ‡¶∞‡¶£‡ßá ‡¶ñ‡¶∞‡¶ö ‡¶ï‡¶∞‡¶¨", personality: "unicorn" },
                    { text: "‡¶™‡¶∞‡¶ø‡¶¨‡¶æ‡¶∞‡ßá‡¶∞ ‡¶ï‡¶≤‡ßç‡¶Ø‡¶æ‡¶£‡ßá ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶¨", personality: "dragon" }
                ]
            },
            {
                id: 2,
                question: "‡¶Æ‡¶æ‡¶∏‡ßá‡¶∞ ‡¶∂‡ßá‡¶∑‡ßá ‡¶¨‡¶æ‡¶°‡¶º‡¶§‡¶ø ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶•‡¶æ‡¶ï‡¶≤‡ßá ‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡ßÄ ‡¶ï‡¶∞‡ßá‡¶®?",
                options: [
                    { text: "‡¶¨‡ßç‡¶Ø‡¶æ‡¶Ç‡¶ï‡ßá ‡¶ú‡¶Æ‡¶æ ‡¶∞‡¶æ‡¶ñ‡¶ø", personality: "lion" },
                    { text: "‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞/‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ‡¶Ø‡¶º ‡¶≤‡¶æ‡¶ó‡¶æ‡¶á", personality: "fox" },
                    { text: "‡¶®‡¶ø‡¶ú‡ßá‡¶∞ ‡¶∂‡¶ñ‡ßá ‡¶ñ‡¶∞‡¶ö ‡¶ï‡¶∞‡¶ø", personality: "unicorn" },
                    { text: "‡¶™‡¶∞‡¶ø‡¶¨‡¶æ‡¶∞‡¶ï‡ßá ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶¶‡¶ø‡¶á", personality: "dragon" }
                ]
            },
            {
                id: 3,
                question: "‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ñ‡¶∞‡¶ö‡ßá‡¶∞ ‡¶ß‡¶∞‡¶® ‡¶ï‡ßá‡¶Æ‡¶®?",
                options: [
                    { text: "‡¶π‡¶ø‡¶∏‡¶æ‡¶¨ ‡¶ï‡¶∞‡ßá ‡¶ñ‡¶∞‡¶ö ‡¶ï‡¶∞‡¶ø", personality: "lion" },
                    { text: "‡¶≤‡¶æ‡¶≠‡¶ú‡¶®‡¶ï ‡¶ú‡¶æ‡¶Ø‡¶º‡¶ó‡¶æ‡¶Ø‡¶º ‡¶ñ‡¶∞‡¶ö ‡¶ï‡¶∞‡¶ø", personality: "fox" },
                    { text: "‡¶Æ‡¶® ‡¶ö‡¶æ‡¶á‡¶≤‡ßá‡¶á ‡¶ï‡¶ø‡¶®‡¶ø", personality: "unicorn" },
                    { text: "‡¶Ö‡¶®‡ßç‡¶Ø‡¶¶‡ßá‡¶∞ ‡¶ï‡¶•‡¶æ ‡¶≠‡ßá‡¶¨‡ßá ‡¶ñ‡¶∞‡¶ö ‡¶ï‡¶∞‡¶ø", personality: "dragon" }
                ]
            },
            {
                id: 4,
                question: "‡¶à‡¶¶‡ßá‡¶∞ ‡¶∏‡¶Æ‡¶Ø‡¶º ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ñ‡¶∞‡¶ö ‡¶ï‡ßá‡¶Æ‡¶® ‡¶π‡¶Ø‡¶º?",
                options: [
                    { text: "‡¶¨‡¶æ‡¶ú‡ßá‡¶ü ‡¶ï‡¶∞‡ßá ‡¶ï‡¶ø‡¶®‡¶ø", personality: "lion" },
                    { text: "‡¶¶‡¶∞‡¶¶‡¶æ‡¶Æ ‡¶ï‡¶∞‡ßá ‡¶∏‡¶æ‡¶∂‡ßç‡¶∞‡¶Ø‡¶º ‡¶ï‡¶∞‡¶ø", personality: "fox" },
                    { text: "‡¶Ø‡¶æ ‡¶≠‡¶æ‡¶≤‡ßã ‡¶≤‡¶æ‡¶ó‡ßá ‡¶§‡¶æ‡¶á ‡¶ï‡¶ø‡¶®‡¶ø", personality: "unicorn" },
                    { text: "‡¶∏‡¶¨‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ï‡¶ø‡¶®‡¶ø", personality: "dragon" }
                ]
            },
            {
                id: 5,
                question: "‡¶¨‡ßá‡¶§‡¶® ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶™‡¶∞ ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá ‡¶ï‡ßÄ ‡¶ï‡¶∞‡ßá‡¶®?",
                options: [
                    { text: "‡¶∏‡¶û‡ßç‡¶ö‡¶Ø‡¶º ‡¶Ü‡¶≤‡¶æ‡¶¶‡¶æ ‡¶ï‡¶∞‡¶ø", personality: "lion" },
                    { text: "‡¶¨‡¶ø‡¶≤/‡¶ã‡¶£ ‡¶™‡¶∞‡¶ø‡¶∂‡ßã‡¶ß ‡¶ï‡¶∞‡¶ø", personality: "fox" },
                    { text: "‡¶®‡¶ø‡¶ú‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶ï‡¶ø‡¶®‡¶ø", personality: "unicorn" },
                    { text: "‡¶™‡¶∞‡¶ø‡¶¨‡¶æ‡¶∞‡¶ï‡ßá ‡¶¶‡¶ø‡¶á", personality: "dragon" }
                ]
            },
            {
                id: 6,
                question: "‡¶π‡¶†‡¶æ‡ßé ‡¶¨‡¶°‡¶º ‡¶ñ‡¶∞‡¶ö ‡¶™‡¶°‡¶º‡¶≤‡ßá ‡¶ï‡ßÄ ‡¶ï‡¶∞‡ßá‡¶®?",
                options: [
                    { text: "‡¶ú‡¶∞‡ßÅ‡¶∞‡¶ø ‡¶§‡¶π‡¶¨‡¶ø‡¶≤ ‡¶•‡ßá‡¶ï‡ßá ‡¶¶‡¶ø‡¶á", personality: "lion" },
                    { text: "‡¶ï‡¶ø‡¶∏‡ßç‡¶§‡¶ø‡¶§‡ßá ‡¶™‡¶∞‡¶ø‡¶∂‡ßã‡¶ß ‡¶ï‡¶∞‡¶ø", personality: "fox" },
                    { text: "‡¶ß‡¶æ‡¶∞ ‡¶®‡¶ø‡¶Ø‡¶º‡ßá ‡¶π‡¶≤‡ßá‡¶ì ‡¶¶‡¶ø‡¶á", personality: "unicorn" },
                    { text: "‡¶™‡¶∞‡¶ø‡¶¨‡¶æ‡¶∞ ‡¶•‡ßá‡¶ï‡ßá ‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø ‡¶®‡¶ø‡¶á", personality: "dragon" }
                ]
            },
            {
                id: 7,
                question: "‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶≠‡¶¨‡¶ø‡¶∑‡ßç‡¶Ø‡ßé ‡¶™‡¶∞‡¶ø‡¶ï‡¶≤‡ßç‡¶™‡¶®‡¶æ ‡¶ï‡ßÄ?",
                options: [
                    { text: "‡¶è‡¶ï‡¶ü‡¶æ ‡¶¨‡¶æ‡¶°‡¶º‡¶ø/‡¶´‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶ü ‡¶ï‡¶ø‡¶®‡¶¨", personality: "lion" },
                    { text: "‡¶®‡¶ø‡¶ú‡ßá‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ ‡¶ñ‡ßÅ‡¶≤‡¶¨", personality: "fox" },
                    { text: "‡¶¨‡¶ø‡¶¶‡ßá‡¶∂ ‡¶ò‡ßÅ‡¶∞‡¶¨/‡¶∏‡ßç‡¶¨‡¶™‡ßç‡¶® ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶ï‡¶∞‡¶¨", personality: "unicorn" },
                    { text: "‡¶™‡¶∞‡¶ø‡¶¨‡¶æ‡¶∞‡ßá‡¶∞ ‡¶∏‡ßÅ‡¶ñ-‡¶∂‡¶æ‡¶®‡ßç‡¶§‡¶ø ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡¶¨", personality: "dragon" }
                ]
            },
            {
                id: 8,
                question: "‡¶Ö‡¶®‡¶≤‡¶æ‡¶á‡¶® ‡¶∂‡¶™‡¶ø‡¶Ç ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶∏‡¶Æ‡¶Ø‡¶º ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡¶≠‡ßç‡¶Ø‡¶æ‡¶∏ ‡¶ï‡ßÄ?",
                options: [
                    { text: "‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶® ‡¶Æ‡¶§‡ßã ‡¶ï‡¶ø‡¶®‡¶ø", personality: "lion" },
                    { text: "‡¶°‡¶ø‡¶∏‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶¶‡ßá‡¶ñ‡ßá ‡¶ï‡¶ø‡¶®‡¶ø", personality: "fox" },
                    { text: "‡¶Ø‡¶æ ‡¶Æ‡¶® ‡¶ö‡¶æ‡¶Ø‡¶º ‡¶§‡¶æ‡¶á ‡¶ï‡¶ø‡¶®‡¶ø", personality: "unicorn" },
                    { text: "‡¶™‡¶∞‡¶ø‡¶¨‡¶æ‡¶∞‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ï‡¶ø‡¶®‡¶ø", personality: "dragon" }
                ]
            },
            {
                id: 9,
                question: "‡¶¨‡¶®‡ßç‡¶ß‡ßÅ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶ñ‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶¨‡¶ø‡¶≤ ‡¶ï‡ßÄ‡¶≠‡¶æ‡¶¨‡ßá ‡¶¶‡ßá‡¶®?",
                options: [
                    { text: "‡¶®‡¶ø‡¶ú‡ßá‡¶∞ ‡¶Ö‡¶Ç‡¶∂ ‡¶¶‡¶ø‡¶á", personality: "lion" },
                    { text: "‡¶∏‡¶¨‡¶æ‡¶á ‡¶≠‡¶æ‡¶ó ‡¶ï‡¶∞‡ßá ‡¶¶‡¶ø‡¶á", personality: "fox" },
                    { text: "‡¶Ü‡¶Æ‡¶ø ‡¶™‡ßÅ‡¶∞‡ßã ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶¶‡¶ø‡¶á", personality: "unicorn" },
                    { text: "‡¶Ø‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶Æ‡¶∞‡ßç‡¶•‡ßç‡¶Ø ‡¶¨‡ßá‡¶∂‡¶ø ‡¶∏‡ßá ‡¶¶‡ßá‡¶Ø‡¶º", personality: "dragon" }
                ]
            },
            {
                id: 10,
                question: "‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∏‡¶û‡ßç‡¶ö‡¶Ø‡¶º‡ßá‡¶∞ ‡¶≤‡¶ï‡ßç‡¶∑‡ßç‡¶Ø ‡¶ï‡ßÄ?",
                options: [
                    { text: "‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶§‡ßç‡¶§‡¶æ ‡¶ì ‡¶∏‡ßç‡¶•‡¶ø‡¶§‡¶ø‡¶∂‡ßÄ‡¶≤‡¶§‡¶æ", personality: "lion" },
                    { text: "‡¶∏‡¶Æ‡ßç‡¶™‡¶¶ ‡¶¨‡ßÉ‡¶¶‡ßç‡¶ß‡¶ø", personality: "fox" },
                    { text: "‡¶∏‡ßç‡¶¨‡¶™‡ßç‡¶® ‡¶™‡ßÇ‡¶∞‡¶£", personality: "unicorn" },
                    { text: "‡¶™‡¶∞‡¶ø‡¶¨‡¶æ‡¶∞‡ßá‡¶∞ ‡¶≠‡¶¨‡¶ø‡¶∑‡ßç‡¶Ø‡ßé", personality: "dragon" }
                ]
            }
        ];

        const personalities = {
            lion: {
                name: "‡¶∏‡¶ø‡¶Ç‡¶π ü¶Å - ‡¶¶‡¶æ‡¶Ø‡¶º‡¶ø‡¶§‡ßç‡¶¨‡¶∂‡ßÄ‡¶≤ ‡¶∏‡¶û‡ßç‡¶ö‡¶Ø‡¶º‡¶ï‡¶æ‡¶∞‡ßÄ",
                description: "‡¶Ü‡¶™‡¶®‡¶ø ‡¶Ö‡¶§‡ßç‡¶Ø‡¶®‡ßç‡¶§ ‡¶¶‡¶æ‡¶Ø‡¶º‡¶ø‡¶§‡ßç‡¶¨‡¶∂‡ßÄ‡¶≤ ‡¶è‡¶¨‡¶Ç ‡¶™‡¶∞‡¶ø‡¶ï‡¶≤‡ßç‡¶™‡¶ø‡¶§‡•§ ‡¶≠‡¶¨‡¶ø‡¶∑‡ßç‡¶Ø‡¶§‡ßá‡¶∞ ‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶§‡ßç‡¶§‡¶æ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶•‡¶Æ ‡¶Ö‡¶ó‡ßç‡¶∞‡¶æ‡¶ß‡¶ø‡¶ï‡¶æ‡¶∞‡•§",
                tips: "‡¶¨‡¶æ‡¶ú‡ßá‡¶ü ‡¶Æ‡ßá‡¶®‡ßá ‡¶ö‡¶≤‡ßÅ‡¶®, ‡¶ú‡¶∞‡ßÅ‡¶∞‡¶ø ‡¶§‡¶π‡¶¨‡¶ø‡¶≤ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®‡•§",
                color: "from-yellow-400 to-orange-500"
            },
            fox: {
                name: "‡¶∂‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤ ü¶ä - ‡¶¨‡ßÅ‡¶¶‡ßç‡¶ß‡¶ø‡¶Æ‡¶æ‡¶® ‡¶¨‡¶ø‡¶®‡¶ø‡¶Ø‡¶º‡ßã‡¶ó‡¶ï‡¶æ‡¶∞‡ßÄ",
                description: "‡¶Ü‡¶™‡¶®‡¶ø ‡¶ö‡¶§‡ßÅ‡¶∞ ‡¶è‡¶¨‡¶Ç ‡¶≤‡¶æ‡¶≠‡¶ú‡¶®‡¶ï ‡¶∏‡¶ø‡¶¶‡ßç‡¶ß‡¶æ‡¶®‡ßç‡¶§ ‡¶®‡¶ø‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¶‡¶∞‡ßç‡¶∂‡ßÄ‡•§ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶ï‡¶æ‡¶ú‡ßá ‡¶≤‡¶æ‡¶ó‡¶æ‡¶®‡•§",
                tips: "‡¶¨‡¶ø‡¶®‡¶ø‡¶Ø‡¶º‡ßã‡¶ó ‡¶∂‡¶ø‡¶ñ‡ßÅ‡¶®, ‡¶ù‡ßÅ‡¶Å‡¶ï‡¶ø ‡¶¨‡ßÅ‡¶ù‡ßá ‡¶∏‡¶ø‡¶¶‡ßç‡¶ß‡¶æ‡¶®‡ßç‡¶§ ‡¶®‡¶ø‡¶®‡•§",
                color: "from-orange-400 to-red-500"
            },
            unicorn: {
                name: "‡¶á‡¶â‡¶®‡¶ø‡¶ï‡¶∞‡ßç‡¶® ü¶Ñ - ‡¶∏‡ßç‡¶¨‡¶™‡ßç‡¶®‡¶¨‡¶æ‡¶ú ‡¶ñ‡¶∞‡¶ö‡ßÅ‡¶∞‡ßá",
                description: "‡¶Ü‡¶™‡¶®‡¶ø ‡¶ú‡ßÄ‡¶¨‡¶® ‡¶â‡¶™‡¶≠‡ßã‡¶ó ‡¶ï‡¶∞‡¶§‡ßá ‡¶≠‡¶æ‡¶≤‡ßã‡¶¨‡¶æ‡¶∏‡ßá‡¶®‡•§ ‡¶§‡¶¨‡ßá ‡¶è‡¶ï‡¶ü‡ßÅ ‡¶∏‡¶§‡¶∞‡ßç‡¶ï ‡¶π‡¶≤‡ßá ‡¶Ü‡¶∞‡¶ì ‡¶≠‡¶æ‡¶≤‡ßã ‡¶π‡¶¨‡ßá‡•§",
                tips: "‡¶ñ‡¶∞‡¶ö ‡¶ü‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®, ‡¶õ‡ßã‡¶ü ‡¶õ‡ßã‡¶ü ‡¶∏‡¶û‡ßç‡¶ö‡¶Ø‡¶º ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§",
                color: "from-pink-400 to-purple-500"
            },
            dragon: {
                name: "‡¶°‡ßç‡¶∞‡¶æ‡¶ó‡¶® üêâ - ‡¶™‡¶∞‡¶ø‡¶¨‡¶æ‡¶∞-‡¶ï‡ßá‡¶®‡ßç‡¶¶‡ßç‡¶∞‡¶ø‡¶ï ‡¶¶‡¶æ‡¶§‡¶æ",
                description: "‡¶Ü‡¶™‡¶®‡¶ø ‡¶™‡¶∞‡¶ø‡¶¨‡¶æ‡¶∞‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶∏‡¶¨‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®‡•§ ‡¶§‡¶¨‡ßá ‡¶®‡¶ø‡¶ú‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø‡¶ì ‡¶∞‡¶æ‡¶ñ‡ßÅ‡¶®‡•§",
                tips: "‡¶™‡¶∞‡¶ø‡¶¨‡¶æ‡¶∞ ‡¶ì ‡¶®‡¶ø‡¶ú‡ßá‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶≠‡¶æ‡¶∞‡¶∏‡¶æ‡¶Æ‡ßç‡¶Ø ‡¶∞‡¶æ‡¶ñ‡ßÅ‡¶®‡•§",
                color: "from-green-400 to-blue-500"
            }
        };

        // Login Component
        function LoginPage({ onLoginSuccess }) {
            const [loading, setLoading] = useState(false);
            const [error, setError] = useState("");

            const handleGoogleLogin = async () => {
                setLoading(true);
                setError("");
                
                try {
                    const provider = new firebase.auth.GoogleAuthProvider();
                    const result = await auth.signInWithPopup(provider);
                    const user = result.user;
                    
                    // Save user to Firestore
                    await db.collection('users').doc(user.uid).set({
                        displayName: user.displayName,
                        email: user.email,
                        photoURL: user.photoURL,
                        createdAt: firebase.firestore.FieldValue.serverTimestamp()
                    }, { merge: true });
                    
                    onLoginSuccess(user);
                } catch (error) {
                    console.error("Login error:", error);
                    setError("‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§ ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§");
                } finally {
                    setLoading(false);
                }
            };

            return (
                <div className="login-container">
                    <div className="bg-white rounded-3xl shadow-2xl p-8 md:p-12 max-w-md w-full mx-4 fade-in">
                        <div className="text-center mb-8">
                            <h1 className="text-5xl font-bold mb-2">
                                <span className="bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent">
                                    SaveUp
                                </span>
                            </h1>
                            <p className="text-gray-600 text-lg">
                                ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡ßá‡¶∞ ‡¶∏‡ßç‡¶Æ‡¶æ‡¶∞‡ßç‡¶ü ‡¶´‡¶æ‡¶á‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶∏ ‡¶ü‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶∞
                            </p>
                        </div>

                        <div className="mb-8">
                            <div className="flex items-center justify-center space-x-4 mb-6">
                                <div className="text-4xl">üí∞</div>
                                <div className="text-4xl">üìä</div>
                                <div className="text-4xl">üéØ</div>
                            </div>
                            <h2 className="text-2xl font-bold text-gray-800 mb-3 text-center">
                                ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ü‡¶∞‡ßç‡¶•‡¶ø‡¶ï ‡¶∏‡ßç‡¶¨‡¶æ‡¶ß‡ßÄ‡¶®‡¶§‡¶æ‡¶∞ ‡¶Ø‡¶æ‡¶§‡ßç‡¶∞‡¶æ ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®
                            </h2>
                            <p className="text-gray-600 text-center">
                                ‡¶ñ‡¶∞‡¶ö ‡¶ü‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶® ‚Ä¢ ‡¶≤‡¶ï‡ßç‡¶∑‡ßç‡¶Ø ‡¶®‡¶ø‡¶∞‡ßç‡¶ß‡¶æ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶® ‚Ä¢ ‡¶∏‡¶û‡ßç‡¶ö‡¶Ø‡¶º ‡¶¨‡¶æ‡¶°‡¶º‡¶æ‡¶®
                            </p>
                        </div>

                        {error && (
                            <div className="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-4">
                                {error}
                            </div>
                        )}

                        <button
                            onClick={handleGoogleLogin}
                            disabled={loading}
                            className="w-full bg-white border-2 border-gray-300 text-gray-700 font-semibold py-4 px-6 rounded-xl hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 flex items-center justify-center space-x-3 shadow-md disabled:opacity-50 disabled:cursor-not-allowed"
                        >
                            {loading ? (
                                <span>‡¶≤‡¶ó‡¶á‡¶® ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</span>
                            ) : (
                                <>
                                    <svg className="w-6 h-6" viewBox="0 0 24 24">
                                        <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                                        <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                                        <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                                        <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                                    </svg>
                                    <span>Google ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</span>
                                </>
                            )}
                        </button>

                        <p className="text-xs text-gray-500 text-center mt-6">
                            ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶™‡¶®‡¶ø ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∂‡¶∞‡ßç‡¶§‡¶æ‡¶¨‡¶≤‡ßÄ ‡¶ì ‡¶ó‡ßã‡¶™‡¶®‡ßÄ‡¶Ø‡¶º‡¶§‡¶æ ‡¶®‡ßÄ‡¶§‡¶ø‡¶§‡ßá ‡¶∏‡¶Æ‡ßç‡¶Æ‡¶§ ‡¶π‡¶ö‡ßç‡¶õ‡ßá‡¶®
                        </p>
                    </div>
                </div>
            );
        }

        // Main App Component (rest of your SaveUp app)
        function App() {
            const [user, setUser] = useState(null);
            const [loading, setLoading] = useState(true);
            const [currentPage, setCurrentPage] = useState('dashboard');
            const [showQuiz, setShowQuiz] = useState(false);
            const [personality, setPersonality] = useState(null);
            const [expenses, setExpenses] = useState([]);
            const [showExpenseModal, setShowExpenseModal] = useState(false);
            const [goals, setGoals] = useState([]);
            const [monthlyBudget, setMonthlyBudget] = useState(30000);

            // Check auth state on mount
            useEffect(() => {
                const unsubscribe = auth.onAuthStateChanged(async (user) => {
                    if (user) {
                        setUser(user);
                        // Load user data from Firestore
                        const userDoc = await db.collection('users').doc(user.uid).get();
                        if (userDoc.exists) {
                            const userData = userDoc.data();
                            if (userData.personality) {
                                setPersonality(userData.personality);
                            } else {
                                setShowQuiz(true);
                            }
                            if (userData.expenses) setExpenses(userData.expenses);
                            if (userData.goals) setGoals(userData.goals);
                            if (userData.monthlyBudget) setMonthlyBudget(userData.monthlyBudget);
                        } else {
                            setShowQuiz(true);
                        }
                    }
                    setLoading(false);
                });

                return () => unsubscribe();
            }, []);

            // Save data to Firestore whenever it changes
            useEffect(() => {
                if (user && personality) {
                    db.collection('users').doc(user.uid).set({
                        personality,
                        expenses,
                        goals,
                        monthlyBudget
                    }, { merge: true });
                }
            }, [user, personality, expenses, goals, monthlyBudget]);

            const handleLogout = async () => {
                try {
                    await auth.signOut();
                    setUser(null);
                    setPersonality(null);
                    setExpenses([]);
                    setGoals([]);
                } catch (error) {
                    console.error("Logout error:", error);
                }
            };

            if (loading) {
                return (
                    <div className="min-h-screen flex items-center justify-center gradient-bg">
                        <div className="text-white text-2xl">‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</div>
                    </div>
                );
            }

            if (!user) {
                return <LoginPage onLoginSuccess={setUser} />;
            }

            if (showQuiz) {
                return <MoneyPersonalityQuiz onComplete={(result) => {
                    setPersonality(result);
                    setShowQuiz(false);
                }} />;
            }

            const thisMonthExpenses = expenses.reduce((sum, exp) => sum + exp.amount, 0);
            const remaining = monthlyBudget - thisMonthExpenses;
            const todayExpenses = expenses
                .filter(exp => new Date(exp.date).toDateString() === new Date().toDateString())
                .reduce((sum, exp) => sum + exp.amount, 0);
            const healthScore = Math.max(0, Math.min(100, ((monthlyBudget - thisMonthExpenses) / monthlyBudget * 100)));

            return (
                <div className="min-h-screen bg-gray-50">
                    {/* Header */}
                    <header className="gradient-bg text-white p-4 shadow-lg">
                        <div className="max-w-7xl mx-auto flex justify-between items-center">
                            <h1 className="text-2xl font-bold">SaveUp</h1>
                            <div className="flex items-center space-x-4">
                                <img 
                                    src={user.photoURL} 
                                    alt={user.displayName}
                                    className="w-10 h-10 rounded-full border-2 border-white"
                                />
                                <span className="hidden md:inline">{user.displayName}</span>
                                <button
                                    onClick={handleLogout}
                                    className="bg-white text-purple-600 px-4 py-2 rounded-lg font-semibold hover:bg-gray-100 transition"
                                >
                                    ‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü
                                </button>
                            </div>
                        </div>
                    </header>

                    {/* Navigation */}
                    <nav className="bg-white shadow-md sticky top-0 z-10">
                        <div className="max-w-7xl mx-auto px-4">
                            <div className="flex space-x-8 overflow-x-auto">
                                {['dashboard', 'expenses', 'goals', 'reports'].map(page => (
                                    <button
                                        key={page}
                                        onClick={() => setCurrentPage(page)}
                                        className={`py-4 px-6 font-semibold whitespace-nowrap ${
                                            currentPage === page
                                                ? 'text-purple-600 border-b-2 border-purple-600'
                                                : 'text-gray-600 hover:text-purple-600'
                                        }`}
                                    >
                                        {page === 'dashboard' && 'üìä ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶°'}
                                        {page === 'expenses' && 'üí∏ ‡¶ñ‡¶∞‡¶ö'}
                                        {page === 'goals' && 'üéØ ‡¶≤‡¶ï‡ßç‡¶∑‡ßç‡¶Ø'}
                                        {page === 'reports' && 'üìà ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü'}
                                    </button>
                                ))}
                            </div>
                        </div>
                    </nav>

                    {/* Main Content */}
                    <main className="max-w-7xl mx-auto p-4 pb-20">
                        {currentPage === 'dashboard' && (
                            <Dashboard
                                personality={personality}
                                thisMonthExpenses={thisMonthExpenses}
                                remaining={remaining}
                                todayExpenses={todayExpenses}
                                healthScore={healthScore}
                                expenses={expenses}
                                onAddExpense={() => setShowExpenseModal(true)}
                            />
                        )}
                        {currentPage === 'expenses' && (
                            <ExpensesPage
                                expenses={expenses}
                                onAddExpense={() => setShowExpenseModal(true)}
                                onDeleteExpense={(id) => setExpenses(expenses.filter(e => e.id !== id))}
                            />
                        )}
                        {currentPage === 'goals' && (
                            <GoalsPage goals={goals} setGoals={setGoals} />
                        )}
                        {currentPage === 'reports' && (
                            <ReportsPage expenses={expenses} />
                        )}
                    </main>

                    {/* Expense Modal */}
                    {showExpenseModal && (
                        <ExpenseModal
                            onClose={() => setShowExpenseModal(false)}
                            onSave={(expense) => {
                                setExpenses([...expenses, { ...expense, id: Date.now() }]);
                                setShowExpenseModal(false);
                            }}
                        />
                    )}
                </div>
            );
        }

        // Dashboard Component
        function Dashboard({ personality, thisMonthExpenses, remaining, todayExpenses, healthScore, expenses, onAddExpense }) {
            const categoryData = expenses.reduce((acc, exp) => {
                acc[exp.category] = (acc[exp.category] || 0) + exp.amount;
                return acc;
            }, {});

            return (
                <div className="space-y-6">
                    {/* Personality Badge */}
                    {personality && (
                        <div className={`bg-gradient-to-r ${personalities[personality].color} rounded-2xl p-6 text-white shadow-lg`}>
                            <h2 className="text-2xl font-bold mb-2">{personalities[personality].name}</h2>
                            <p className="mb-2">{personalities[personality].description}</p>
                            <p className="text-sm opacity-90">üí° {personalities[personality].tips}</p>
                        </div>
                    )}

                    {/* Stats Cards */}
                    <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                        <div className="bg-white rounded-2xl p-6 shadow-lg">
                            <div className="text-gray-600 text-sm mb-2">‡¶è‡¶á ‡¶Æ‡¶æ‡¶∏‡ßá ‡¶ñ‡¶∞‡¶ö</div>
                            <div className="text-2xl font-bold text-purple-600">‡ß≥{thisMonthExpenses.toLocaleString()}</div>
                        </div>
                        <div className="bg-white rounded-2xl p-6 shadow-lg">
                            <div className="text-gray-600 text-sm mb-2">‡¶¨‡¶æ‡¶ï‡¶ø ‡¶Ü‡¶õ‡ßá</div>
                            <div className="text-2xl font-bold text-green-600">‡ß≥{remaining.toLocaleString()}</div>
                        </div>
                        <div className="bg-white rounded-2xl p-6 shadow-lg">
                            <div className="text-gray-600 text-sm mb-2">‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶ñ‡¶∞‡¶ö</div>
                            <div className="text-2xl font-bold text-blue-600">‡ß≥{todayExpenses.toLocaleString()}</div>
                        </div>
                        <div className="bg-white rounded-2xl p-6 shadow-lg">
                            <div className="text-gray-600 text-sm mb-2">‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø ‡¶∏‡ßç‡¶ï‡ßã‡¶∞</div>
                            <div className="text-2xl font-bold text-pink-600">{Math.round(healthScore)}%</div>
                        </div>
                    </div>

                    {/* Add Expense Button */}
                    <button
                        onClick={onAddExpense}
                        className="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white font-bold py-4 px-6 rounded-2xl shadow-lg hover:shadow-xl transition"
                    >
                        ‚ûï ‡¶®‡¶§‡ßÅ‡¶® ‡¶ñ‡¶∞‡¶ö ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®
                    </button>

                    {/* Category Breakdown */}
                    {Object.keys(categoryData).length > 0 && (
                        <div className="bg-white rounded-2xl p-6 shadow-lg">
                            <h3 className="text-xl font-bold mb-4">‡¶ï‡ßç‡¶Ø‡¶æ‡¶ü‡ßá‡¶ó‡¶∞‡¶ø ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡¶Ø‡¶º‡ßÄ ‡¶ñ‡¶∞‡¶ö</h3>
                            {Object.entries(categoryData).map(([category, amount]) => (
                                <div key={category} className="mb-4">
                                    <div className="flex justify-between mb-2">
                                        <span className="font-semibold">{category}</span>
                                        <span className="text-purple-600">‡ß≥{amount.toLocaleString()}</span>
                                    </div>
                                    <div className="w-full bg-gray-200 rounded-full h-2">
                                        <div
                                            className="bg-gradient-to-r from-purple-600 to-pink-600 h-2 rounded-full"
                                            style={{ width: `${(amount / thisMonthExpenses) * 100}%` }}
                                        ></div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    )}

                    {/* Recent Expenses */}
                    {expenses.length > 0 && (
                        <div className="bg-white rounded-2xl p-6 shadow-lg">
                            <h3 className="text-xl font-bold mb-4">‡¶∏‡¶æ‡¶Æ‡ßç‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ï ‡¶ñ‡¶∞‡¶ö</h3>
                            {expenses.slice(-5).reverse().map(exp => (
                                <div key={exp.id} className="flex justify-between items-center py-3 border-b last:border-b-0">
                                    <div>
                                        <div className="font-semibold">{exp.note || exp.category}</div>
                                        <div className="text-sm text-gray-600">{new Date(exp.date).toLocaleDateString('bn-BD')}</div>
                                    </div>
                                    <div className="text-right">
                                        <div className="font-bold text-purple-600">‡ß≥{exp.amount.toLocaleString()}</div>
                                        <div className="text-sm text-gray-600">{exp.category}</div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    )}
                </div>
            );
        }

        // Expenses Page
        function ExpensesPage({ expenses, onAddExpense, onDeleteExpense }) {
            return (
                <div className="space-y-6">
                    <button
                        onClick={onAddExpense}
                        className="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white font-bold py-4 px-6 rounded-2xl shadow-lg hover:shadow-xl transition"
                    >
                        ‚ûï ‡¶®‡¶§‡ßÅ‡¶® ‡¶ñ‡¶∞‡¶ö ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®
                    </button>

                    <div className="bg-white rounded-2xl p-6 shadow-lg">
                        <h2 className="text-2xl font-bold mb-6">‡¶∏‡¶¨ ‡¶ñ‡¶∞‡¶ö</h2>
                        {expenses.length === 0 ? (
                            <p className="text-gray-600 text-center py-8">‡¶è‡¶ñ‡¶®‡ßã ‡¶ï‡ßã‡¶®‡ßã ‡¶ñ‡¶∞‡¶ö ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡¶®‡¶ø</p>
                        ) : (
                            <div className="space-y-4">
                                {expenses.slice().reverse().map(exp => (
                                    <div key={exp.id} className="flex justify-between items-center p-4 bg-gray-50 rounded-xl">
                                        <div className="flex-1">
                                            <div className="font-semibold text-lg">{exp.note || exp.category}</div>
                                            <div className="text-sm text-gray-600">{exp.category} ‚Ä¢ {new Date(exp.date).toLocaleDateString('bn-BD')}</div>
                                        </div>
                                        <div className="flex items-center space-x-4">
                                            <div className="text-xl font-bold text-purple-600">‡ß≥{exp.amount.toLocaleString()}</div>
                                            <button
                                                onClick={() => onDeleteExpense(exp.id)}
                                                className="text-red-500 hover:text-red-700 font-bold"
                                            >
                                                ‚ùå
                                            </button>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        // Goals Page
        function GoalsPage({ goals, setGoals }) {
            const [showAddGoal, setShowAddGoal] = useState(false);
            const [newGoal, setNewGoal] = useState({ name: '', target: '', saved: 0 });

            const addGoal = () => {
                if (newGoal.name && newGoal.target) {
                    setGoals([...goals, { ...newGoal, id: Date.now(), target: parseFloat(newGoal.target) }]);
                    setNewGoal({ name: '', target: '', saved: 0 });
                    setShowAddGoal(false);
                }
            };

            const updateGoalSavings = (id, amount) => {
                setGoals(goals.map(g => g.id === id ? { ...g, saved: g.saved + amount } : g));
            };

            return (
                <div className="space-y-6">
                    <button
                        onClick={() => setShowAddGoal(!showAddGoal)}
                        className="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white font-bold py-4 px-6 rounded-2xl shadow-lg hover:shadow-xl transition"
                    >
                        {showAddGoal ? '‚ùå ‡¶¨‡¶æ‡¶§‡¶ø‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®' : '‚ûï ‡¶®‡¶§‡ßÅ‡¶® ‡¶≤‡¶ï‡ßç‡¶∑‡ßç‡¶Ø ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®'}
                    </button>

                    {showAddGoal && (
                        <div className="bg-white rounded-2xl p-6 shadow-lg">
                            <input
                                type="text"
                                placeholder="‡¶≤‡¶ï‡ßç‡¶∑‡ßç‡¶Ø‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ (‡¶Ø‡ßá‡¶Æ‡¶®: ‡¶®‡¶§‡ßÅ‡¶® ‡¶´‡ßã‡¶®)"
                                value={newGoal.name}
                                onChange={(e) => setNewGoal({ ...newGoal, name: e.target.value })}
                                className="w-full p-3 border-2 border-gray-300 rounded-lg mb-4"
                            />
                            <input
                                type="number"
                                placeholder="‡¶≤‡¶ï‡ßç‡¶∑‡ßç‡¶Ø ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£ (‡ß≥)"
                                value={newGoal.target}
                                onChange={(e) => setNewGoal({ ...newGoal, target: e.target.value })}
                                className="w-full p-3 border-2 border-gray-300 rounded-lg mb-4"
                            />
                            <button
                                onClick={addGoal}
                                className="w-full bg-green-500 text-white font-bold py-3 rounded-lg hover:bg-green-600 transition"
                            >
                                ‚úÖ ‡¶≤‡¶ï‡ßç‡¶∑‡ßç‡¶Ø ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®
                            </button>
                        </div>
                    )}

                    {goals.length === 0 ? (
                        <div className="bg-white rounded-2xl p-8 shadow-lg text-center text-gray-600">
                            ‡¶è‡¶ñ‡¶®‡ßã ‡¶ï‡ßã‡¶®‡ßã ‡¶≤‡¶ï‡ßç‡¶∑‡ßç‡¶Ø ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡¶®‡¶ø
                        </div>
                    ) : (
                        <div className="space-y-4">
                            {goals.map(goal => {
                                const progress = (goal.saved / goal.target) * 100;
                                return (
                                    <div key={goal.id} className="bg-white rounded-2xl p-6 shadow-lg">
                                        <div className="flex justify-between items-center mb-4">
                                            <h3 className="text-xl font-bold">{goal.name}</h3>
                                            <span className="text-sm text-gray-600">{Math.round(progress)}%</span>
                                        </div>
                                        <div className="w-full bg-gray-200 rounded-full h-4 mb-4">
                                            <div
                                                className="bg-gradient-to-r from-purple-600 to-pink-600 h-4 rounded-full transition-all duration-500"
                                                style={{ width: `${Math.min(progress, 100)}%` }}
                                            ></div>
                                        </div>
                                        <div className="flex justify-between items-center mb-4">
                                            <span className="text-gray-600">‡¶∏‡¶û‡ßç‡¶ö‡¶ø‡¶§: ‡ß≥{goal.saved.toLocaleString()}</span>
                                            <span className="text-gray-600">‡¶≤‡¶ï‡ßç‡¶∑‡ßç‡¶Ø: ‡ß≥{goal.target.toLocaleString()}</span>
                                        </div>
                                        <div className="flex space-x-2">
                                            <button
                                                onClick={() => updateGoalSavings(goal.id, 500)}
                                                className="flex-1 bg-green-500 text-white py-2 rounded-lg hover:bg-green-600 transition"
                                            >
                                                +‡ß≥500
                                            </button>
                                            <button
                                                onClick={() => updateGoalSavings(goal.id, 1000)}
                                                className="flex-1 bg-green-500 text-white py-2 rounded-lg hover:bg-green-600 transition"
                                            >
                                                +‡ß≥1000
                                            </button>
                                            <button
                                                onClick={() => {
                                                    const amount = prompt('‡¶ï‡¶§ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶¨‡ßá‡¶®?');
                                                    if (amount) updateGoalSavings(goal.id, parseFloat(amount));
                                                }}
                                                className="flex-1 bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition"
                                            >
                                                ‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ
                                            </button>
                                        </div>
                                    </div>
                                );
                            })}
                        </div>
                    )}
                </div>
            );
        }

        // Reports Page
        function ReportsPage({ expenses }) {
            const monthlyData = expenses.reduce((acc, exp) => {
                const month = new Date(exp.date).toLocaleDateString('bn-BD', { month: 'long', year: 'numeric' });
                if (!acc[month]) acc[month] = {};
                acc[month][exp.category] = (acc[month][exp.category] || 0) + exp.amount;
                return acc;
            }, {});

            return (
                <div className="space-y-6">
                    <div className="bg-white rounded-2xl p-6 shadow-lg">
                        <h2 className="text-2xl font-bold mb-6">‡¶Æ‡¶æ‡¶∏‡¶ø‡¶ï ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü</h2>
                        {Object.keys(monthlyData).length === 0 ? (
                            <p className="text-gray-600 text-center py-8">‡¶Ø‡¶•‡ßá‡¶∑‡ßç‡¶ü ‡¶°‡ßá‡¶ü‡¶æ ‡¶®‡ßá‡¶á</p>
                        ) : (
                            Object.entries(monthlyData).map(([month, categories]) => {
                                const total = Object.values(categories).reduce((sum, amt) => sum + amt, 0);
                                return (
                                    <div key={month} className="mb-8">
                                        <h3 className="text-xl font-bold mb-4">{month}</h3>
                                        <div className="mb-4">
                                            <div className="flex justify-between mb-2">
                                                <span className="font-semibold">‡¶Æ‡ßã‡¶ü ‡¶ñ‡¶∞‡¶ö</span>
                                                <span className="text-purple-600 font-bold">‡ß≥{total.toLocaleString()}</span>
                                            </div>
                                        </div>
                                        <div className="space-y-3">
                                            {Object.entries(categories).map(([category, amount]) => (
                                                <div key={category}>
                                                    <div className="flex justify-between mb-1">
                                                        <span>{category}</span>
                                                        <span className="text-gray-600">‡ß≥{amount.toLocaleString()}</span>
                                                    </div>
                                                    <div className="w-full bg-gray-200 rounded-full h-2">
                                                        <div
                                                            className="bg-gradient-to-r from-purple-600 to-pink-600 h-2 rounded-full"
                                                            style={{ width: `${(amount / total) * 100}%` }}
                                                        ></div>
                                                    </div>
                                                </div>
                                            ))}
                                        </div>
                                    </div>
                                );
                            })
                        )}
                    </div>
                </div>
            );
        }

        // Expense Modal
        function ExpenseModal({ onClose, onSave }) {
            const [expense, setExpense] = useState({
                amount: '',
                category: '‡¶ñ‡¶æ‡¶¨‡¶æ‡¶∞',
                note: '',
                date: new Date().toISOString().split('T')[0]
            });

            const categories = ['‡¶ñ‡¶æ‡¶¨‡¶æ‡¶∞', '‡¶Ø‡¶æ‡¶§‡¶æ‡¶Ø‡¶º‡¶æ‡¶§', '‡¶¨‡¶ø‡¶®‡ßã‡¶¶‡¶®', '‡¶¨‡¶ø‡¶≤', '‡¶∂‡¶™‡¶ø‡¶Ç', '‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø', '‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ', '‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø'];

            const handleSubmit = (e) => {
                e.preventDefault();
                if (expense.amount) {
                    onSave({ ...expense, amount: parseFloat(expense.amount) });
                }
            };

            return (
                <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
                    <div className="bg-white rounded-2xl p-6 max-w-md w-full shadow-2xl">
                        <div className="flex justify-between items-center mb-6">
                            <h2 className="text-2xl font-bold">‡¶®‡¶§‡ßÅ‡¶® ‡¶ñ‡¶∞‡¶ö ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</h2>
                            <button onClick={onClose} className="text-2xl">&times;</button>
                        </div>
                        <form onSubmit={handleSubmit} className="space-y-4">
                            <div>
                                <label className="block text-sm font-semibold mb-2">‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£ (‡ß≥)</label>
                                <input
                                    type="number"
                                    value={expense.amount}
                                    onChange={(e) => setExpense({ ...expense, amount: e.target.value })}
                                    className="w-full p-3 border-2 border-gray-300 rounded-lg"
                                    placeholder="‡ß¶"
                                    required
                                />
                            </div>
                            <div>
                                <label className="block text-sm font-semibold mb-2">‡¶ï‡ßç‡¶Ø‡¶æ‡¶ü‡ßá‡¶ó‡¶∞‡¶ø</label>
                                <select
                                    value={expense.category}
                                    onChange={(e) => setExpense({ ...expense, category: e.target.value })}
                                    className="w-full p-3 border-2 border-gray-300 rounded-lg"
                                >
                                    {categories.map(cat => (
                                        <option key={cat} value={cat}>{cat}</option>
                                    ))}
                                </select>
                            </div>
                            <div>
                                <label className="block text-sm font-semibold mb-2">‡¶®‡ßã‡¶ü (‡¶ê‡¶ö‡ßç‡¶õ‡¶ø‡¶ï)</label>
                                <input
                                    type="text"
                                    value={expense.note}
                                    onChange={(e) => setExpense({ ...expense, note: e.target.value })}
                                    className="w-full p-3 border-2 border-gray-300 rounded-lg"
                                    placeholder="‡¶ï‡¶ø‡¶∏‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ñ‡¶∞‡¶ö?"
                                />
                            </div>
                            <div>
                                <label className="block text-sm font-semibold mb-2">‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ</label>
                                <input
                                    type="date"
                                    value={expense.date}
                                    onChange={(e) => setExpense({ ...expense, date: e.target.value })}
                                    className="w-full p-3 border-2 border-gray-300 rounded-lg"
                                />
                            </div>
                            <button
                                type="submit"
                                className="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white font-bold py-3 rounded-lg hover:shadow-lg transition"
                            >
                                ‚úÖ ‡¶ñ‡¶∞‡¶ö ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®
                            </button>
                        </form>
                    </div>
                </div>
            );
        }

        // Money Personality Quiz
        function MoneyPersonalityQuiz({ onComplete }) {
            const [currentQuestion, setCurrentQuestion] = useState(0);
            const [answers, setAnswers] = useState([]);

            const handleAnswer = (personality) => {
                const newAnswers = [...answers, personality];
                setAnswers(newAnswers);

                if (currentQuestion < quizQuestions.length - 1) {
                    setCurrentQuestion(currentQuestion + 1);
                } else {
                    const counts = newAnswers.reduce((acc, p) => {
                        acc[p] = (acc[p] || 0) + 1;
                        return acc;
                    }, {});
                    const winner = Object.keys(counts).reduce((a, b) => counts[a] > counts[b] ? a : b);
                    onComplete(winner);
                }
            };

            const progress = ((currentQuestion + 1) / quizQuestions.length) * 100;

            return (
                <div className="min-h-screen gradient-bg flex items-center justify-center p-4">
                    <div className="bg-white rounded-3xl shadow-2xl p-8 max-w-2xl w-full">
                        <div className="mb-8">
                            <h2 className="text-3xl font-bold text-center mb-4">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ü‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶ï‡ßç‡¶§‡¶ø‡¶§‡ßç‡¶¨ ‡¶ï‡ßÄ?</h2>
                            <div className="w-full bg-gray-200 rounded-full h-3">
                                <div
                                    className="bg-gradient-to-r from-purple-600 to-pink-600 h-3 rounded-full transition-all duration-300"
                                    style={{ width: `${progress}%` }}
                                ></div>
                            </div>
                            <p className="text-center text-gray-600 mt-2">‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶® {currentQuestion + 1} / {quizQuestions.length}</p>
                        </div>

                        <div className="mb-8">
                            <h3 className="text-2xl font-bold mb-6 text-center">{quizQuestions[currentQuestion].question}</h3>
                            <div className="space-y-3">
                                {quizQuestions[currentQuestion].options.map((option, index) => (
                                    <button
                                        key={index}
                                        onClick={() => handleAnswer(option.personality)}
                                        className="w-full text-left p-4 border-2 border-gray-300 rounded-xl hover:border-purple-600 hover:bg-purple-50 transition-all duration-200 font-semibold"
                                    >
                                        {option.text}
                                    </button>
                                ))}
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // Render App
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
